{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bot752/Desktop/code/code/@React_Udemy_Max/Practice_project_on_React_Router_with_backend_api/12-adv-starting-project/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bot752/Desktop/code/code/@React_Udemy_Max/Practice_project_on_React_Router_with_backend_api/12-adv-starting-project/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useLoaderData,json,defer,Await}from\"react-router-dom\";import EventsList from\"../components/EventsList\";import{Suspense}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";function EventsPage(){var _useLoaderData=useLoaderData(),events=_useLoaderData.events;return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Await,{resolve:events,children:function children(loadedEvents){return/*#__PURE__*/_jsx(EventsList,{events:loadedEvents});}})});}export default EventsPage;function loadEvents(){return _loadEvents.apply(this,arguments);}function _loadEvents(){_loadEvents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8080/events\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}throw json({message:\"Could not fetch events.\"},{status:500});case 7:_context.next=9;return response.json();case 9:resData=_context.sent;return _context.abrupt(\"return\",resData.events);case 11:case\"end\":return _context.stop();}},_callee);}));return _loadEvents.apply(this,arguments);}export function loader(){return defer({events:loadEvents()});}","map":{"version":3,"names":["useLoaderData","json","defer","Await","EventsList","Suspense","jsx","_jsx","EventsPage","_useLoaderData","events","fallback","style","textAlign","children","resolve","loadedEvents","loadEvents","_loadEvents","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","loader"],"sources":["C:/Users/bot752/Desktop/code/code/@React_Udemy_Max/Practice_project_on_React_Router_with_backend_api/12-adv-starting-project/frontend/src/pages/Events.js"],"sourcesContent":["import { useLoaderData, json, defer, Await } from \"react-router-dom\";\r\nimport EventsList from \"../components/EventsList\";\r\nimport { Suspense } from \"react\";\r\n\r\nfunction EventsPage() {\r\n  const { events } = useLoaderData();\r\n\r\n  return (\r\n    <Suspense fallback={<p style={{ textAlign: \"center\" }}>Loading...</p>}>\r\n      <Await resolve={events}>\r\n        {(loadedEvents) => <EventsList events={loadedEvents} />}\r\n      </Await>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default EventsPage;\r\n\r\nasync function loadEvents() {\r\n  const response = await fetch(\"http://localhost:8080/events\");\r\n\r\n  if (!response.ok) {\r\n    //  return { isError: true, message: \"Could not fetch events!\" };\r\n    // throw new Response(JSON.stringify({ message: \"Could not fetch events.\" }), {\r\n    //   status: 500,\r\n    // });\r\n    throw json(\r\n      { message: \"Could not fetch events.\" },\r\n      {\r\n        status: 500,\r\n      }\r\n    );\r\n  } else {\r\n    const resData = await response.json();\r\n    return resData.events;\r\n  }\r\n}\r\n\r\nexport function loader() {\r\n  return defer({\r\n    events: loadEvents(),\r\n  });\r\n}\r\n"],"mappings":"scAAA,OAASA,aAAa,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,KAAQ,kBAAkB,CACpE,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,IAAAC,cAAA,CAAmBT,aAAa,CAAC,CAAC,CAA1BU,MAAM,CAAAD,cAAA,CAANC,MAAM,CAEd,mBACEH,IAAA,CAACF,QAAQ,EAACM,QAAQ,cAAEJ,IAAA,MAAGK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAE,CAAAA,QAAA,cACpEP,IAAA,CAACJ,KAAK,EAACY,OAAO,CAAEL,MAAO,CAAAI,QAAA,CACpB,SAAAA,SAACE,YAAY,qBAAKT,IAAA,CAACH,UAAU,EAACM,MAAM,CAAEM,YAAa,CAAE,CAAC,GAClD,CAAC,CACA,CAAC,CAEf,CAEA,cAAe,CAAAR,UAAU,CAAC,QAEX,CAAAS,UAAUA,CAAA,SAAAC,WAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,YAAA,EAAAA,WAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAAC,QAAA,MAAAC,QAAA,CAAAC,OAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACyB,CAAAC,KAAK,CAAC,8BAA8B,CAAC,QAAtDP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,IAETR,QAAQ,CAACS,EAAE,EAAAL,QAAA,CAAAE,IAAA,eAKR,CAAA9B,IAAI,CACR,CAAEkC,OAAO,CAAE,yBAA0B,CAAC,CACtC,CACEC,MAAM,CAAE,GACV,CACF,CAAC,QAAAP,QAAA,CAAAE,IAAA,SAEqB,CAAAN,QAAQ,CAACxB,IAAI,CAAC,CAAC,QAA/ByB,OAAO,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAQ,MAAA,UACNX,OAAO,CAAChB,MAAM,2BAAAmB,QAAA,CAAAS,IAAA,MAAAd,OAAA,GAExB,UAAAN,WAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,MAAO,SAAS,CAAAmB,MAAMA,CAAA,CAAG,CACvB,MAAO,CAAArC,KAAK,CAAC,CACXQ,MAAM,CAAEO,UAAU,CAAC,CACrB,CAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}